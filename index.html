<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Fox — IA que impulsa tu negocio</title>
  <meta name="description" content="Smart Fox: implementamos un Agente de IA para atención, ventas y soporte. Chatea ahora y obtén respuestas en segundos." />

  <!-- 👇 MUY IMPORTANTE PARA PROJECT PAGES (GitHub Pages en /usuario/repositorio/) -->
  <base href="/Agente-IA/">

  <!-- Open Graph / favicon -->
  <meta property="og:title" content="Smart Fox — IA que impulsa tu negocio" />
  <meta property="og:description" content="Habla con nuestro Agente de IA." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#ff6a00" />
  <link rel="icon" href="logo-smartfox.webp" type="image/webp" />
  <link rel="alternate icon" href="logo-smartfox.jpg" type="image/jpeg" />
  <meta property="og:image" content="logo-smartfox.jpg" />
  <meta name="twitter:image" content="logo-smartfox.jpg" />

  <!-- Fuentes y estilos del widget -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/@n8n/chat@latest/dist/style.css?v=2" rel="stylesheet" />

  <!-- 👇 Tu CSS externo -->
  <link href="styles.css?v=3" rel="stylesheet" />
</head>
<body>
  <!-- HERO -->
  <header class="hero" role="banner">
    <div class="container hero__wrap">
      <div class="brand">
        <picture>
          <source srcset="logo-smartfox.webp" type="image/webp" />
          <img class="logo-img" src="logo-smartfox.jpg" width="34" height="34" alt="Logo Smart Fox" decoding="async" loading="eager" />
        </picture>
        <strong class="brand__name">Smart Fox</strong>
        <span class="badge">Agente de IA en tu sitio</span>
      </div>

      <h1 class="hero__title">Convierte visitas en conversaciones<br/>y conversaciones en clientes</h1>
      <p class="lead hero__lead">Nuestro Agente de IA atiende 24/7: responde preguntas, recomienda productos/servicios, agenda asesorías y recoge tus datos de contacto. Todo desde esta página.</p>

      <div class="hero-cta">
        <button class="btn btn--primary" onclick="window.openAgent('Hola, quiero saber cómo Smart Fox puede ayudar a mi negocio. ¿Puedes darme una demo?')">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" class="btn__icon">
            <path d="M21 12a8 8 0 1 1-3.6-6.7L22 4l-1.6 4.2A8 8 0 0 1 21 12Z" stroke="currentColor" stroke-width="1.6"/>
          </svg>
          Hablar con el Agente
        </button>
        <a class="btn btn--ghost" href="#como-funciona">Cómo interactuar</a>
      </div>

      <ul class="trust" aria-label="Garantías y capacidades">
        <li>⚡ Respuestas en segundos</li>
        <li>🔒 Privacidad y seguridad</li>
        <li>🛠️ Integrable con tu stack (CRM, WhatsApp, Calendly)</li>
      </ul>
    </div>
    <div class="hero__glow hero__glow--left" aria-hidden="true"></div>
    <div class="hero__glow hero__glow--right" aria-hidden="true"></div>
  </header>

  <!-- DEMO / WHITE-LABEL -->
  <section class="section container wl" aria-label="Demo white-label">
    <div class="wl-wrap">
      <div class="wl-col">
        <div class="pill">DEMO en vivo</div>
        <h2 class="mt-0">Este agente es un ejemplo — el tuyo llevará tu marca</h2>
        <ul class="wl-list">
          <li>Logo, colores y tono de tu empresa</li>
          <li>Entrenado con tus páginas, documentos y FAQs</li>
          <li>Flujos para ventas, soporte o reservas</li>
          <li>Integraciones: CRM, WhatsApp, Google Calendar y más</li>
        </ul>
        <div class="wl-cta">
          <button class="btn btn--primary" onclick="window.openAgent('Quiero mi propio agente de IA con mi marca e integraciones')">Cotizar mi agente</button>
          <a class="btn btn--ghost" href="#como-funciona">Ver cómo funciona</a>
        </div>
      </div>
      <div class="wl-col">
        <div class="wl-card">
          <div class="wl-mock" aria-label="Vista previa de conversación">
            <div class="wl-mock__header"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
            <div class="msg bot">Hola 👋 Soy tu agente. ¿Qué te gustaría lograr hoy?</div>
            <div class="msg you">Quiero agendar una asesoría</div>
            <div class="msg bot">Perfecto. ¿Qué día te conviene esta semana?</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="section container" aria-label="Características">
    <div class="grid features">
      <article class="feature card">
        <div class="icon" aria-hidden="true">💬</div>
        <h3>Atención instantánea</h3>
        <p>Responde preguntas frecuentes, explica servicios y cualifica leads sin esperar a un agente humano.</p>
      </article>
      <article class="feature card">
        <div class="icon" aria-hidden="true">📅</div>
        <h3>Agenda y recordatorios</h3>
        <p>Propone horarios y agenda reuniones/asesorías. Envía confirmaciones por correo o WhatsApp.</p>
      </article>
      <article class="feature card">
        <div class="icon" aria-hidden="true">🧠</div>
        <h3>Conocimiento de tu marca</h3>
        <p>Entrenado con tus documentos, URLs y FAQs. Mantiene el contexto a lo largo de la conversación.</p>
      </article>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section class="section container" id="como-funciona" aria-label="Cómo interactuar">
    <h2 class="mt-0">Interactúa con el Agente en 3 pasos</h2>

    <div class="steps mt-3">
      <div class="card step">
        <b>1) Abre el chat</b>
        <span>Haz clic en <em>Hablar con el Agente</em>. Se abrirá una ventana con la conversación.</span>
      </div>
      <div class="card step">
        <b>2) Elige un objetivo</b>
        <span>Pregunta por <em>servicios</em>, <em>precios</em>, <em>agenda</em> o <em>soporte</em>. También puedes adjuntar archivos si está habilitado.</span>
      </div>
      <div class="card step">
        <b>3) Recibe ayuda</b>
        <span>El agente responde, te guía paso a paso y, si lo requieres, te deriva con una persona de Smart Fox.</span>
      </div>
    </div>

    <div class="cta-rail mt-4">
      <div class="cta-copy">
        <div class="cta-copy__title">¿No sabes por dónde empezar?</div>
        <div class="cta-copy__subtitle">Prueba con un clic. El agente iniciará la conversación con ese tema.</div>
      </div>
      <div class="agent-actions">
        <button class="chip" onclick="window.openAgent('Quiero agendar una asesoría con Smart Fox esta semana')">Agendar asesoría</button>
        <button class="chip" onclick="window.openAgent('¿Qué servicios ofrece Smart Fox y cuáles son sus precios?')">Ver servicios</button>
        <button class="chip" onclick="window.openAgent('Necesito soporte técnico para una integración de WhatsApp/n8n')">Soporte</button>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section container" aria-label="Preguntas frecuentes">
    <h2 class="mt-0">Preguntas frecuentes</h2>
    <details class="mt-3" open>
      <summary>¿El agente es 24/7 y en español?</summary>
      <div class="mt-2">Sí. Responde en español neutro y está disponible todo el día. También podemos activar otros idiomas si tu negocio lo requiere.</div>
    </details>
    <details>
      <summary>¿Puedo integrarlo con mi CRM o WhatsApp?</summary>
      <div class="mt-2">Claro. Smart Fox integra nativamente con n8n para conectar CRMs, correo, WhatsApp Business, Google Calendar y más.</div>
    </details>
    <details>
      <summary>¿El chat mantiene el historial?</summary>
      <div class="mt-2">Sí, al volver a abrirlo recuperarás tu sesión anterior en este dispositivo.</div>
    </details>
  </section>

  <!-- FOOTER -->
  <footer role="contentinfo">
    <div class="container footer-row">
      <div class="footer-brand">
        <picture>
          <source srcset="logo-smartfox.webp" type="image/webp" />
          <img class="logo-img" src="logo-smartfox.jpg" width="34" height="34" alt="Logo Smart Fox" decoding="async" loading="lazy" />
        </picture>
        <strong>Smart Fox</strong>
      </div>
      <div>
        <button class="btn btn--primary" onclick="window.openAgent()">Iniciar Chat</button>
      </div>
    </div>
  </footer>

  <!-- Agent Overlay (embedded @n8n/chat) -->
  <div id="agent-overlay" role="dialog" aria-modal="true" aria-label="Chat de Smart Fox">
    <div class="agent-sheet">
      <div class="agent-header">
        <div class="agent-title">
          <picture aria-hidden="true">
            <source srcset="logo-smartfox.webp" type="image/webp" />
            <img class="logo-img" src="logo-smartfox.jpg" width="22" height="22" alt="" decoding="async" loading="lazy" />
          </picture>
          <span>Agente Smart Fox</span>
        </div>
        <div class="agent-actions">
          <button class="icon-btn" onclick="document.getElementById('agent-overlay').classList.remove('open')" aria-label="Cerrar chat">✕</button>
        </div>
      </div>
      <div id="n8n-chat" class="agent-chat-host" aria-live="polite"></div>
    </div>
  </div>

  <!-- n8n chat script -->
  <script type="module">
    import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat@latest/dist/chat.bundle.es.js?v=2';

    const defaults = {
      webhookUrl: 'https://smarterfox.app.n8n.cloud/webhook/baafd661-8f4a-4b90-b7f9-75f69a227be3/chat',
      target: '#n8n-chat',
      mode: 'fullscreen',
      loadPreviousSession: true,
      showWelcomeScreen: true,
      enableStreaming: false,
      i18n: {
        en: {
          title: '¡Hola! 👋',
          subtitle: 'Inicia un chat. Estamos disponibles 24/7.',
          getStarted: 'Comenzar',
          inputPlaceholder: 'Escribe tu consulta…',
          footer: ''
        }
      },
      initialMessages: [
        '¡Hola! Soy el Agente de Smart Fox. ¿En qué puedo ayudarte hoy?'
      ]
    };

    let chatInstance = null;

    function mountChat(initialMsgs){
      const host = document.querySelector('#n8n-chat');
      if (!host) return;
      host.innerHTML = '';
      const opts = { ...defaults, initialMessages: initialMsgs && initialMsgs.length ? initialMsgs : defaults.initialMessages };
      chatInstance = createChat(opts);
    }

    // expone una función global para abrir el agente con un mensaje opcional
    window.openAgent = (prompt) => {
      document.getElementById('agent-overlay').classList.add('open');
      const msgs = prompt ? [String(prompt)] : null;
      mountChat(msgs);
    };

    // ESC para cerrar
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') document.getElementById('agent-overlay').classList.remove('open');
    });
  </script>
</body>
</html>
